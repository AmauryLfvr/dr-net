(window["webpackJsonpdr-net-fe"]=window["webpackJsonpdr-net-fe"]||[]).push([[0],{298:function(e,t,a){e.exports=a(579)},303:function(e,t,a){},575:function(e,t){},578:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(9),c=a.n(o),l=(a(303),a(282)),i=a(580),u=a(10),s=a(583),d=a(183),m=a(38),y=a(39),f=a(41),p=a(40),h=a(42),g=a(19),v=[{category:"Others",Accuracy:14},{category:"Invoice Date",Accuracy:35},{category:"Invoice Currency",Accuracy:62},{category:"Tax Amount",Accuracy:93},{category:"Provider Name",Accuracy:48},{category:"PO Number",Accuracy:73},{category:"Consumption Country",Accuracy:49},{category:"Account Number",Accuracy:14},{category:"Amount (inc. Tax)",Accuracy:54},{category:"Consumption Period",Accuracy:65}],E=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(g.n,null,r.a.createElement(g.m,{outerRadius:100,data:v},r.a.createElement(g.j,null),r.a.createElement(g.i,{dataKey:"category"}),r.a.createElement(g.k,null),r.a.createElement(g.l,{dataKey:"Accuracy",stroke:"#5366ac",fill:"#5366ac",fillOpacity:.6})))}}]),t}(n.PureComponent);function x(e){return r.a.createElement("div",{className:"main-card",onClick:function(){return e.handlePageChange({key:"ACCURACY"})}},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"ACCURACY"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#5366ac"}},"63.7%"),r.a.createElement("h4",null,"Overall Classifier Accuracy")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(E,null)))}var b=[{name:"Telecom",value:40},{name:"Hardware",value:30},{name:"Software",value:30},{name:"Maintenance",value:20},{name:"Others",value:10}],O=function(e){var t=Math.PI/180,a=e.cx,n=e.cy,o=e.midAngle,c=e.innerRadius,l=e.outerRadius,i=e.startAngle,u=e.endAngle,s=e.fill,d=e.payload,m=e.percent,y=e.value,f=Math.sin(-t*o),p=Math.cos(-t*o),h=a+(l+10)*p,v=n+(l+10)*f,E=a+(l+30)*p,x=n+(l+30)*f,b=E+22*(p>=0?1:-1),O=x,C=p>=0?"start":"end";return r.a.createElement("g",null,r.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:s},d.name),r.a.createElement(g.o,{cx:a,cy:n,innerRadius:c,outerRadius:l,startAngle:i,endAngle:u,fill:s}),r.a.createElement(g.o,{cx:a,cy:n,startAngle:i,endAngle:u,innerRadius:l+6,outerRadius:l+10,fill:s}),r.a.createElement("path",{d:"M".concat(h,",").concat(v,"L").concat(E,",").concat(x,"L").concat(b,",").concat(O),stroke:s,fill:"none"}),r.a.createElement("circle",{cx:b,cy:O,r:2,fill:s,stroke:"none"}),r.a.createElement("text",{x:b+12*(p>=0?1:-1),y:O,textAnchor:C,fill:"#333"},"".concat(y," Documents")),r.a.createElement("text",{x:b+12*(p>=0?1:-1),y:O,dy:18,textAnchor:C,fill:"#999"},"".concat((100*m).toFixed(2),"% of Total")))},C=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(g.n,null,r.a.createElement(g.h,null,r.a.createElement(g.g,{activeIndex:this.state.activeIndex,activeShape:O,data:b,innerRadius:70,outerRadius:100,fill:"#02afbc",dataKey:"value",onMouseEnter:this.onPieEnter})))}}]),t}(n.PureComponent);function A(){return r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"INVOICES"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#02afbc"}},"216"),r.a.createElement("h4",null,"Total Documents Processed")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(C,null)))}C.jsfiddleUrl="https://jsfiddle.net/alidingling/hqnrgxpj/";var F=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],k=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(g.n,null,r.a.createElement(g.f,{data:F},r.a.createElement(g.e,{type:"monotone",dataKey:"pv",stroke:"#6f2282",strokeWidth:2})))}}]),t}(n.PureComponent);function P(){return r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"TRENDS"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#6f2282"}},"$5,303 \u2191"),r.a.createElement("h4",null,"Increase from last month")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(k,null)))}function S(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"UPLOAD"),r.a.createElement(u.a,{style:{transform:"scale(2)",marginBottom:"24px"},type:"upload"}),r.a.createElement("p",null,"Drag file here to upload Invoice")))}function M(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(x,{handlePageChange:e.handlePageChange}),r.a.createElement(A,null),r.a.createElement(P,null)),r.a.createElement(S,null))}k.jsfiddleUrl="https://jsfiddle.net/alidingling/exh283uh/";var I=[{category:"Others",Accuracy:14},{category:"Invoice Date",Accuracy:35},{category:"Invoice Currency",Accuracy:62},{category:"Tax Amount",Accuracy:93},{category:"Provider Name",Accuracy:48},{category:"PO Number",Accuracy:73},{category:"Consumption Country",Accuracy:49},{category:"Account Number",Accuracy:14},{category:"Amount (inc. Tax)",Accuracy:54},{category:"Consumption Period",Accuracy:65}],j=function(e){function t(){return Object(m.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(g.n,null,r.a.createElement(g.b,{data:I,layout:"vertical",margin:{top:5,right:20,left:35,bottom:5}},r.a.createElement(g.q,{type:"number"}),r.a.createElement(g.r,{type:"category",dataKey:"category"}),r.a.createElement(g.c,{strokeDasharray:"3 3"}),r.a.createElement(g.p,null),r.a.createElement(g.d,null),r.a.createElement(g.a,{dataKey:"Accuracy",fill:"#5366ac"})))}}]),t}(n.PureComponent);j.jsfiddleUrl="https://jsfiddle.net/alidingling/30763kr7/";var _=a(581),R=_.a.Column,N=(_.a.ColumnGroup,[{category:"Others",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Invoice Date",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Invoice Currency",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Tax Amount",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Provider Name",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"PO Number",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Consumption Country",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Account Number",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Amount (inc. Tax)",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)},{category:"Consumption Period",Precision:Math.random().toFixed(2),Recall:Math.random().toFixed(2),F1:Math.random().toFixed(2),Support:(100*Math.random()).toFixed(0)}]);function w(){return r.a.createElement(_.a,{dataSource:N},r.a.createElement(R,{title:"Category",dataIndex:"category",key:"category"}),r.a.createElement(R,{title:"Precision",dataIndex:"Precision",key:"Precision"}),r.a.createElement(R,{title:"Recall",dataIndex:"Recall",key:"Recall"}),r.a.createElement(R,{title:"F1",dataIndex:"F1",key:"F1"}),r.a.createElement(R,{title:"Support",dataIndex:"Support",key:"Support"}))}function T(e){return r.a.createElement("div",null,r.a.createElement("h1",{style:{fontSize:"2rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-10px",color:e.color}},e.value),r.a.createElement("h4",null,e.label))}function D(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"AGGREGATE ACCURACY"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#5366ac"}},"63.7%"),r.a.createElement("h4",null,"Overall Classifier Accuracy"),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement(T,{value:3918,label:"Total Tokens Classified",color:"#5366ac"}),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement("div",{style:{marginLeft:"25%",width:"50%",display:"flex",justifyContent:"space-between"}},r.a.createElement(T,{value:192,label:"True Positives",color:"#006f3c"}),r.a.createElement(T,{value:2401,label:"True Negatives",color:"#006f3c"})),r.a.createElement("div",{style:{marginLeft:"25%",width:"50%",display:"flex",justifyContent:"space-between"}},r.a.createElement(T,{value:201,label:"False Positives",color:"#bf212f"}),r.a.createElement(T,{value:1124,label:"False Negatives",color:"#bf212f"})),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement("div",{style:{marginLeft:"10%",width:"80%",display:"flex",justifyContent:"space-between"}},r.a.createElement(T,{value:.83,label:"Precision",color:"grey"}),r.a.createElement(T,{value:.64,label:"Recall",color:"grey"}),r.a.createElement(T,{value:.78,label:"F1",color:"grey"}),r.a.createElement(T,{value:3918,label:"Support",color:"grey"})))),r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"CATEGORY BREAKDOWN"),r.a.createElement("h4",null,"Figures in Percent"),r.a.createElement("div",{className:"chart-container-tall"},r.a.createElement(j,null)))),r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"CLASSIFIER METRICS")),r.a.createElement(w,null)))}var K=a(278),H=a(584),U=a(582),B=a(47),V=function(e){return(100*e).toFixed(2)},J=function(e){var t=e.replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};function W(e){if(e.data){for(var t=[],a=0,n=Object.keys(e.data);a<n.length;a++){var o=n[a];o.indexOf("_conf")>-1&&t.push({name:J(o.replace("_conf","")),confidence:V(e.data[o])+"%",value:e.data[o.replace("_conf","")]})}return r.a.createElement(_.a,{dataSource:t,columns:[{title:"Field",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"},{title:"Confidence",dataIndex:"confidence",key:"confidence"}]})}return r.a.createElement("p",null,"nothing here")}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var L={unprocessed:"red",processing:"orange",processed:"blue",reviewed:"green"},z=["IT Infrastructure","Telecom Services","Operations","Human Resources"],Y=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],q=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={filteredInfo:null,sortedInfo:null,data:[],visible:!1},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.clearFilters=function(){a.setState({filteredInfo:null})},a.clearAll=function(){a.setState({filteredInfo:null,sortedInfo:null})},a.formatAccCol=function(e){return e<30?"red":e<60?"orange":"green"},a.showModal=function(e){console.log(e),a.setState({visible:!0,selected:e})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1,selected:null})},a.processData=function(e){var t=!0,a=!1,n=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;console.log(c);var l=0,i=0;for(var u in c)u.indexOf("_conf")>-1&&0!==c[u]&&(i++,l+=c[u]);c.accuracy=(l/i*100).toFixed(2)}}catch(s){a=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}return e},a.updateData=function(e){e=JSON.parse(e);var t=a.processData(e);console.log(t),a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(K.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{data:t.reverse()}))},a}return Object(h.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.emit("req_invoices"),this.props.socket.on("invoices_update",this.updateData)}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo;n=n||{};var o=[{title:"File Name",dataIndex:"id",key:"id",sorter:function(e,t){return e.id<t.id},sortOrder:"id"===(a=a||{}).columnKey&&a.order,ellipsis:!0,render:function(t,a){return r.a.createElement("a",{onClick:function(){return e.showModal(a)}},t)}},{title:"Provider",dataIndex:"name_of_provider",key:"name_of_provider",sorter:function(e,t){return e.name_of_provider<t.name_of_provider},sortOrder:"name_of_provider"===a.columnKey&&a.order,ellipsis:!0},{title:"Date",dataIndex:"date_of_invoice",key:"date_of_invoice",filters:Y.map((function(e){return{text:e,value:e}})),filteredValue:n.date_of_invoice||null,onFilter:function(e,t){return t.date_of_invoice.includes(e)},sorter:function(e,t){return e.date_of_invoice.length-t.date_of_invoice.length},sortOrder:"date_of_invoice"===a.columnKey&&a.order,ellipsis:!0},{title:"Category",dataIndex:"category",key:"category",filters:z.map((function(e){return{text:e,value:e}})),filteredValue:n.category||null,onFilter:function(e,t){return t.category.includes(e)},sorter:function(e,t){return e.category.length-t.category.length},sortOrder:"category"===a.columnKey&&a.order,ellipsis:!0},{title:"Country",dataIndex:"country_of_consumption",key:"country_of_consumption",filters:[{text:"Singapore",value:"Singapore"},{text:"Hong Kong",value:"Hong Kong"},{text:"Japan",value:"Japan"}],filteredValue:n.country_of_consumption||null,onFilter:function(e,t){return t.country_of_consumption&&t.country_of_consumption.includes(e)},sorter:function(e,t){return e.country_of_consumption.length-t.country_of_consumption.length},sortOrder:"country_of_consumption"===a.columnKey&&a.order,ellipsis:!0},{title:"Status",dataIndex:"status",key:"status",filters:Object.keys(L).map((function(e){return{text:e,value:e}})),filteredValue:n.status||null,onFilter:function(e,t){return t.status.includes(e)},sortOrder:"status"===a.columnKey&&a.order,ellipsis:!0,render:function(e){return r.a.createElement(H.a,{color:L[e],key:e},e)}},{title:"Confidence",dataIndex:"accuracy",key:"accuracy",filters:[{text:"High",value:[100,70]},{text:"Mid",value:[70,30]},{text:"Low",value:[30,0]}],filteredValue:n.accuracy||null,onFilter:function(e,t){return t.accuracy>e[1]&&t.accuracy<=e[0]},sorter:function(e,t){return e.accuracy-t.accuracy},sortOrder:"accuracy"===a.columnKey&&a.order,ellipsis:!0,render:function(t){return r.a.createElement(H.a,{color:e.formatAccCol(t),key:t},t,"%")}}];return r.a.createElement("div",{className:"card"},r.a.createElement(U.a,{title:"File Details",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,width:"80%"},r.a.createElement(W,{data:this.state.selected})),r.a.createElement("div",null,r.a.createElement("div",{className:"table-operations"},r.a.createElement(B.a,{onClick:this.clearFilters},"Clear filters"),r.a.createElement(B.a,{onClick:this.clearAll},"Clear filters and sorters")),r.a.createElement(_.a,{columns:o,dataSource:this.state.data,onChange:this.handleChange})))}}]),t}(r.a.Component),$=a(281),Q=a.n($);a(578);var X=function(){var e=i.a.Header,t=i.a.Content,a=i.a.Footer,o=Object(n.useState)("HOME"),c=Object(l.a)(o,2),m=c[0],y=c[1],f=Q()("http://localhost:5000"),p=function(e){y(e.key)},h=function(e){var t;"PROCESSING"===(e=JSON.parse(e)).title&&(t=r.a.createElement(u.a,{type:"sync",spin:!0,style:{color:"orange"}})),"PROCESSED"===e.title&&(t=r.a.createElement(u.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"})),s.a.open({message:e.title,description:e.content,icon:t,onClick:null})};return Object(n.useEffect)((function(){f.emit("req-home"),f.on("status_update",(function(e){return h(e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{className:"layout"},r.a.createElement(e,null,r.a.createElement("div",{className:"logo"},"Dr-NET Document Classifier"),r.a.createElement(d.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["HOME"],style:{lineHeight:"64px"}},r.a.createElement(d.a.Item,{onClick:p,key:"HOME"},"Home"),r.a.createElement(d.a.Item,{onClick:p,key:"ACCURACY"},"Accuracy"),r.a.createElement(d.a.Item,{onClick:p,key:"INVOICES"},"Invoices"),r.a.createElement(d.a.Item,{onClick:p,key:"TRENDS"},"Trends"))),r.a.createElement(t,{style:{padding:"30px",background:"#eaeaea"}},"HOME"===m&&r.a.createElement(M,{handlePageChange:p}),"ACCURACY"===m&&r.a.createElement(D,null),"INVOICES"===m&&r.a.createElement(q,{socket:f})),r.a.createElement(a,{style:{textAlign:"center",background:"#eaeaea"},onClick:function(){return h({title:"PROCESSED",content:"mess,dfsdfsage"})}},"2019 NUS BT3101 CAPSTONE GROUP 2")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[298,1,2]]]);
//# sourceMappingURL=main.29ef5f9f.chunk.js.map