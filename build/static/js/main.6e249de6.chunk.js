(window["webpackJsonpdr-net-fe"]=window["webpackJsonpdr-net-fe"]||[]).push([[0],{298:function(e,t,a){e.exports=a(579)},303:function(e,t,a){},575:function(e,t){},578:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(9),c=a.n(l),o=(a(303),a(76)),i=a(580),u=a(10),s=a(583),m=a(184),d=a(19);function f(e){return console.log(e.data),r.a.createElement(d.n,null,r.a.createElement(d.m,{outerRadius:100,data:e.data},r.a.createElement(d.j,null),r.a.createElement(d.i,{dataKey:"category"}),r.a.createElement(d.k,null),r.a.createElement(d.l,{dataKey:"F1",stroke:"#5366ac",fill:"#5366ac",fillOpacity:.6})))}var y=function(e){return e?(100*e).toFixed(2):0},v=function(e){var t=e.replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};function p(e){var t=e.socket,a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1];Object(n.useEffect)((function(){t.emit("req_metrics"),t.on("accuracy_metrics",(function(e){return i(JSON.parse(e)["Neural Network"])}))}),[]);return r.a.createElement("div",{className:"main-card",onClick:function(){return e.handlePageChange({key:"ACCURACY"})}},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"ACCURACY"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#5366ac"}},y(c.accuracy),"%"),r.a.createElement("h4",null,"Overall Classifier Accuracy")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(f,{data:function(e){for(var t=[],a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];new Set(["macro avg","accuracy","weighted avg"]).has(r)||t.push({category:r,F1:y(e[r]["f1-score"])})}return t}(c)})))}var g=a(73),E=a(74),h=a(77),O=a(75),x=a(78),b=[{name:"Telecom",value:40},{name:"Hardware",value:30},{name:"Software",value:30},{name:"Maintenance",value:20},{name:"Others",value:10}],k=function(e){var t=Math.PI/180,a=e.cx,n=e.cy,l=e.midAngle,c=e.innerRadius,o=e.outerRadius,i=e.startAngle,u=e.endAngle,s=e.fill,m=e.payload,f=e.percent,y=e.value,v=Math.sin(-t*l),p=Math.cos(-t*l),g=a+(o+10)*p,E=n+(o+10)*v,h=a+(o+30)*p,O=n+(o+30)*v,x=h+22*(p>=0?1:-1),b=O,k=p>=0?"start":"end";return r.a.createElement("g",null,r.a.createElement("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:s},m.name),r.a.createElement(d.o,{cx:a,cy:n,innerRadius:c,outerRadius:o,startAngle:i,endAngle:u,fill:s}),r.a.createElement(d.o,{cx:a,cy:n,startAngle:i,endAngle:u,innerRadius:o+6,outerRadius:o+10,fill:s}),r.a.createElement("path",{d:"M".concat(g,",").concat(E,"L").concat(h,",").concat(O,"L").concat(x,",").concat(b),stroke:s,fill:"none"}),r.a.createElement("circle",{cx:x,cy:b,r:2,fill:s,stroke:"none"}),r.a.createElement("text",{x:x+12*(p>=0?1:-1),y:b,textAnchor:k,fill:"#333"},"".concat(y," Documents")),r.a.createElement("text",{x:x+12*(p>=0?1:-1),y:b,dy:18,textAnchor:k,fill:"#999"},"".concat((100*f).toFixed(2),"% of Total")))},C=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={activeIndex:0},a.onPieEnter=function(e,t){a.setState({activeIndex:t})},a}return Object(x.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(d.n,null,r.a.createElement(d.h,null,r.a.createElement(d.g,{activeIndex:this.state.activeIndex,activeShape:k,data:b,innerRadius:70,outerRadius:100,fill:"#02afbc",dataKey:"value",onMouseEnter:this.onPieEnter})))}}]),t}(n.PureComponent);function S(){return r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"INVOICES"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#02afbc"}},"216"),r.a.createElement("h4",null,"Total Documents Processed")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(C,null)))}C.jsfiddleUrl="https://jsfiddle.net/alidingling/hqnrgxpj/";var _=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}],A=function(e){function t(){return Object(g.a)(this,t),Object(h.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(d.n,null,r.a.createElement(d.f,{data:_},r.a.createElement(d.e,{type:"monotone",dataKey:"pv",stroke:"#6f2282",strokeWidth:2})))}}]),t}(n.PureComponent);function I(){return r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"TRENDS"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#6f2282"}},"$5,303 \u2191"),r.a.createElement("h4",null,"Increase from last month")),r.a.createElement("div",{className:"chart-container"},r.a.createElement(A,null)))}function j(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"UPLOAD"),r.a.createElement(u.a,{style:{transform:"scale(2)",marginBottom:"24px"},type:"upload"}),r.a.createElement("p",null,"Drag file here to upload Invoice")))}function w(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(p,{handlePageChange:e.handlePageChange,socket:e.socket}),r.a.createElement(S,null),r.a.createElement(I,null)),r.a.createElement(j,null))}function P(e){return r.a.createElement(d.n,null,r.a.createElement(d.b,{data:function(e){for(var t=[],a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];t.push({category:r,"f1-score":y(e[r]["f1-score"])})}return t}(e.data),layout:"vertical",margin:{top:5,right:20,left:35,bottom:5}},r.a.createElement(d.q,{type:"number"}),r.a.createElement(d.r,{type:"category",dataKey:"category"}),r.a.createElement(d.c,{strokeDasharray:"3 3"}),r.a.createElement(d.p,null),r.a.createElement(d.d,null),r.a.createElement(d.a,{dataKey:"f1-score",fill:"#5366ac"})))}A.jsfiddleUrl="https://jsfiddle.net/alidingling/exh283uh/";var N=a(581),R=N.a.Column;function F(e){return r.a.createElement(N.a,{dataSource:function(e){for(var t=[],a=0,n=Object.keys(e);a<n.length;a++){var r=n[a];new Set(["macro avg","accuracy","weighted avg"]).has(r)||t.push({category:r,F1:y(e[r]["f1-score"]),Recall:y(e[r].recall),Support:e[r].support,Precision:y(e[r].precision)})}return t}(e.data)},r.a.createElement(R,{title:"Category",dataIndex:"category",key:"category"}),r.a.createElement(R,{title:"Precision",dataIndex:"Precision",key:"Precision"}),r.a.createElement(R,{title:"Recall",dataIndex:"Recall",key:"Recall"}),r.a.createElement(R,{title:"F1",dataIndex:"F1",key:"F1"}),r.a.createElement(R,{title:"Support",dataIndex:"Support",key:"Support"}))}function D(e){return r.a.createElement("div",null,r.a.createElement("h1",{style:{fontSize:"2rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-10px",color:e.color}},e.value),r.a.createElement("h4",null,e.label))}function T(e){var t=e.socket,a=Object(n.useState)({}),l=Object(o.a)(a,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){t.emit("req_metrics"),t.on("accuracy_metrics",(function(e){return i(JSON.parse(e)["Neural Network"])}))}),[]),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"AGGREGATE ACCURACY"),r.a.createElement("h1",{style:{fontSize:"4rem",fontFamily:"Roboto",fontWeight:"300",marginBottom:"-20px",color:"#5366ac"}},y(c.accuracy)+"%"),r.a.createElement("h4",null,"Overall Classifier Accuracy"),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement(D,{value:c["macro avg"]&&c["macro avg"].support,label:"Total Tokens Classified",color:"#5366ac"}),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement("p",null,"Weighted Average"),r.a.createElement("div",{style:{marginLeft:"10%",width:"80%",display:"flex",justifyContent:"space-between"}},r.a.createElement(D,{value:c["weighted avg"]&&y(c["weighted avg"].precision)+"%",label:"Precision",color:"grey"}),r.a.createElement(D,{value:c["weighted avg"]&&y(c["weighted avg"].recall)+"%",label:"Recall",color:"grey"}),r.a.createElement(D,{value:c["weighted avg"]&&y(c["weighted avg"]["f1-score"])+"%",label:"F1",color:"grey"})),r.a.createElement("hr",{style:{margin:"40px"}}),r.a.createElement("p",null,"Macro Average"),r.a.createElement("div",{style:{marginLeft:"10%",width:"80%",display:"flex",justifyContent:"space-between"}},r.a.createElement(D,{value:c["macro avg"]&&y(c["macro avg"].precision)+"%",label:"Precision",color:"grey"}),r.a.createElement(D,{value:c["macro avg"]&&y(c["macro avg"].recall)+"%",label:"Recall",color:"grey"}),r.a.createElement(D,{value:c["macro avg"]&&y(c["macro avg"]["f1-score"])+"%",label:"F1",color:"grey"})))),r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"CATEGORY BREAKDOWN"),r.a.createElement("h4",null,"Figures in Percent"),r.a.createElement("div",{className:"chart-container-tall"},r.a.createElement(P,{data:c})))),r.a.createElement("div",{className:"main-card"},r.a.createElement("div",{style:{marginTop:"36px",textAlign:"center"}},r.a.createElement("h1",null,"CLASSIFIER METRICS")),r.a.createElement(F,{data:c})))}var M=a(279),K=a(584),H=a(582),B=a(42);function J(e){if(e.data){for(var t=[],a=0,n=Object.keys(e.data);a<n.length;a++){var l=n[a];l.indexOf("_conf")>-1&&t.push({name:v(l.replace("_conf","")),confidence:y(e.data[l])+"%",value:e.data[l.replace("_conf","")]})}return r.a.createElement(N.a,{dataSource:t,columns:[{title:"Field",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"},{title:"Confidence",dataIndex:"confidence",key:"confidence"}]})}return r.a.createElement("p",null,"nothing here")}function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var V={unprocessed:"red",processing:"orange",processed:"blue",reviewed:"green"},W=["IT Infrastructure","Telecom Services","Operations","Human Resources"],G=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={filteredInfo:null,sortedInfo:null,data:[],visible:!1},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.clearFilters=function(){a.setState({filteredInfo:null})},a.clearAll=function(){a.setState({filteredInfo:null,sortedInfo:null})},a.formatAccCol=function(e){return e<30?"red":e<60?"orange":"green"},a.showModal=function(e){console.log(e),a.setState({visible:!0,selected:e})},a.handleOk=function(e){a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1,selected:null})},a.processData=function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=e[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var c=r.value;console.log(c);var o=0,i=0;for(var u in c)u.indexOf("_conf")>-1&&0!==c[u]&&(i++,o+=c[u]);c.accuracy=(o/i*100).toFixed(2)}}catch(s){a=!0,n=s}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}return e},a.updateData=function(e){e=JSON.parse(e);var t=a.processData(e);console.log(t),a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach((function(t){Object(M.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{data:t.reverse()}))},a}return Object(x.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.socket.emit("req_invoices"),this.props.socket.on("invoices_update",this.updateData)}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo;n=n||{};var l=[{title:"File Name",dataIndex:"id",key:"id",sorter:function(e,t){return e.id<t.id},sortOrder:"id"===(a=a||{}).columnKey&&a.order,ellipsis:!0,render:function(t,a){return r.a.createElement("a",{onClick:function(){return e.showModal(a)}},t)}},{title:"Provider",dataIndex:"name_of_provider",key:"name_of_provider",sorter:function(e,t){return e.name_of_provider<t.name_of_provider},sortOrder:"name_of_provider"===a.columnKey&&a.order,ellipsis:!0},{title:"Date",dataIndex:"date_of_invoice",key:"date_of_invoice",filters:G.map((function(e){return{text:e,value:e}})),filteredValue:n.date_of_invoice||null,onFilter:function(e,t){return t.date_of_invoice.includes(e)},sorter:function(e,t){return e.date_of_invoice.length-t.date_of_invoice.length},sortOrder:"date_of_invoice"===a.columnKey&&a.order,ellipsis:!0},{title:"Category",dataIndex:"category",key:"category",filters:W.map((function(e){return{text:e,value:e}})),filteredValue:n.category||null,onFilter:function(e,t){return t.category.includes(e)},sorter:function(e,t){return e.category.length-t.category.length},sortOrder:"category"===a.columnKey&&a.order,ellipsis:!0},{title:"Country",dataIndex:"country_of_consumption",key:"country_of_consumption",filters:[{text:"Singapore",value:"Singapore"},{text:"Hong Kong",value:"Hong Kong"},{text:"Japan",value:"Japan"}],filteredValue:n.country_of_consumption||null,onFilter:function(e,t){return t.country_of_consumption&&t.country_of_consumption.includes(e)},sorter:function(e,t){return e.country_of_consumption.length-t.country_of_consumption.length},sortOrder:"country_of_consumption"===a.columnKey&&a.order,ellipsis:!0},{title:"Status",dataIndex:"status",key:"status",filters:Object.keys(V).map((function(e){return{text:e,value:e}})),filteredValue:n.status||null,onFilter:function(e,t){return t.status.includes(e)},sortOrder:"status"===a.columnKey&&a.order,ellipsis:!0,render:function(e){return r.a.createElement(K.a,{color:V[e],key:e},e)}},{title:"Confidence",dataIndex:"accuracy",key:"accuracy",filters:[{text:"High",value:[100,70]},{text:"Mid",value:[70,30]},{text:"Low",value:[30,0]}],filteredValue:n.accuracy||null,onFilter:function(e,t){return t.accuracy>e[1]&&t.accuracy<=e[0]},sorter:function(e,t){return e.accuracy-t.accuracy},sortOrder:"accuracy"===a.columnKey&&a.order,ellipsis:!0,render:function(t){return r.a.createElement(K.a,{color:e.formatAccCol(t),key:t},t,"%")}}];return r.a.createElement("div",{className:"card"},r.a.createElement(H.a,{title:"File Details",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,width:"80%"},r.a.createElement(J,{data:this.state.selected})),r.a.createElement("div",null,r.a.createElement("div",{className:"table-operations"},r.a.createElement(B.a,{onClick:this.clearFilters},"Clear filters"),r.a.createElement(B.a,{onClick:this.clearAll},"Clear filters and sorters")),r.a.createElement(N.a,{columns:l,dataSource:this.state.data,onChange:this.handleChange})))}}]),t}(r.a.Component),q=a(282),z=a.n(q);a(578);var Y=function(){var e=i.a.Header,t=i.a.Content,a=i.a.Footer,l=Object(n.useState)("HOME"),c=Object(o.a)(l,2),d=c[0],f=c[1],y=z()("http://localhost:5000"),v=function(e){f(e.key)},p=function(e){var t;"PROCESSING"===(e=JSON.parse(e)).title&&(t=r.a.createElement(u.a,{type:"sync",spin:!0,style:{color:"orange"}})),"PROCESSING COMPLETED"===e.title&&(t=r.a.createElement(u.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"})),s.a.open({message:e.title,description:e.content,icon:t,onClick:null})};return Object(n.useEffect)((function(){y.emit("req-home"),y.on("status_update",(function(e){return p(e)}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{className:"layout"},r.a.createElement(e,null,r.a.createElement("div",{className:"logo"},"Dr-NET Document Classifier"),r.a.createElement(m.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["HOME"],style:{lineHeight:"64px"}},r.a.createElement(m.a.Item,{onClick:v,key:"HOME"},"Home"),r.a.createElement(m.a.Item,{onClick:v,key:"ACCURACY"},"Accuracy"),r.a.createElement(m.a.Item,{onClick:v,key:"INVOICES"},"Invoices"),r.a.createElement(m.a.Item,{onClick:v,key:"TRENDS"},"Trends"))),r.a.createElement(t,{style:{padding:"30px",background:"#eaeaea"}},"HOME"===d&&r.a.createElement(w,{handlePageChange:v,socket:y}),"ACCURACY"===d&&r.a.createElement(T,{socket:y}),"INVOICES"===d&&r.a.createElement(L,{socket:y})),r.a.createElement(a,{style:{textAlign:"center",background:"#eaeaea"},onClick:function(){return p({title:"PROCESSED",content:"mess,dfsdfsage"})}},"2019 NUS BT3101 CAPSTONE GROUP 2")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[298,1,2]]]);
//# sourceMappingURL=main.6e249de6.chunk.js.map